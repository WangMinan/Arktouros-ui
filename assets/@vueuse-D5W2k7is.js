import{u as U,b as J,n as _,r as L,e as x,w as I,i as X,g as Y,f as Z,h as z,t as ee,j as te,s as ne,k as E,l as re}from"./@vue-Bf153t-p.js";function G(e){return Y()?(Z(e),!0):!1}function N(e){return typeof e=="function"?e():U(e)}const ae=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const oe=Object.prototype.toString,ie=e=>oe.call(e)==="[object Object]",P=()=>{};function se(e,t){function n(...o){return new Promise((r,i)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(r).catch(i)})}return n}const W=e=>e();function ue(e=W){const t=L(!0);function n(){t.value=!1}function o(){t.value=!0}const r=(...i)=>{t.value&&e(...i)};return{isActive:x(t),pause:n,resume:o,eventFilter:r}}function le(e){return e||z()}function ce(...e){if(e.length!==1)return ee(...e);const t=e[0];return typeof t=="function"?x(te(()=>({get:t,set:P}))):L(t)}function fe(e,t,n={}){const{eventFilter:o=W,...r}=n;return I(e,se(o,t),r)}function de(e,t,n={}){const{eventFilter:o,...r}=n,{eventFilter:i,pause:s,resume:u,isActive:l}=ue(o);return{stop:fe(e,t,{...r,eventFilter:i}),pause:s,resume:u,isActive:l}}function q(e,t=!0,n){le()?J(e,n):t?e():_(e)}function ve(e=!1,t={}){const{truthyValue:n=!0,falsyValue:o=!1}=t,r=X(e),i=L(e);function s(u){if(arguments.length)return i.value=u,i.value;{const l=N(n);return i.value=i.value===l?N(o):l,i.value}}return r?s:[i,s]}function B(e){var t;const n=N(e);return(t=n==null?void 0:n.$el)!=null?t:n}const O=ae?window:void 0;function H(...e){let t,n,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,r]=e,t=O):[t,n,o,r]=e,!t)return P;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const i=[],s=()=>{i.forEach(v=>v()),i.length=0},u=(v,c,b,p)=>(v.addEventListener(c,b,p),()=>v.removeEventListener(c,b,p)),l=I(()=>[B(t),N(r)],([v,c])=>{if(s(),!v)return;const b=ie(c)?{...c}:c;i.push(...n.flatMap(p=>o.map(h=>u(v,p,h,b))))},{immediate:!0,flush:"post"}),m=()=>{l(),s()};return G(m),m}function ge(){const e=L(!1),t=z();return t&&J(()=>{e.value=!0},t),e}function pe(e){const t=ge();return E(()=>(t.value,!!e()))}function me(e,t={}){const{window:n=O}=t,o=pe(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const i=L(!1),s=m=>{i.value=m.matches},u=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",s):r.removeListener(s))},l=re(()=>{o.value&&(u(),r=n.matchMedia(N(e)),"addEventListener"in r?r.addEventListener("change",s):r.addListener(s),i.value=r.matches)});return G(()=>{l(),u(),r=void 0}),i}const F=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V="__vueuse_ssr_handlers__",he=ye();function ye(){return V in F||(F[V]=F[V]||{}),F[V]}function K(e,t){return he[e]||t}function we(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const be={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},R="vueuse-storage";function $(e,t,n,o={}){var r;const{flush:i="pre",deep:s=!0,listenToStorageChanges:u=!0,writeDefaults:l=!0,mergeDefaults:m=!1,shallow:v,window:c=O,eventFilter:b,onError:p=a=>{console.error(a)},initOnMounted:h}=o,g=(v?ne:L)(typeof t=="function"?t():t);if(!n)try{n=K("getDefaultStorage",()=>{var a;return(a=O)==null?void 0:a.localStorage})()}catch(a){p(a)}if(!n)return g;const w=N(t),j=we(w),S=(r=o.serializer)!=null?r:be[j],{pause:T,resume:d}=de(g,()=>M(g.value),{flush:i,deep:s,eventFilter:b});c&&u&&q(()=>{H(c,"storage",y),H(c,R,D),h&&y()}),h||y();function A(a,f){c&&c.dispatchEvent(new CustomEvent(R,{detail:{key:e,oldValue:a,newValue:f,storageArea:n}}))}function M(a){try{const f=n.getItem(e);if(a==null)A(f,null),n.removeItem(e);else{const k=S.write(a);f!==k&&(n.setItem(e,k),A(f,k))}}catch(f){p(f)}}function C(a){const f=a?a.newValue:n.getItem(e);if(f==null)return l&&w!=null&&n.setItem(e,S.write(w)),w;if(!a&&m){const k=S.read(f);return typeof m=="function"?m(k,w):j==="object"&&!Array.isArray(k)?{...w,...k}:k}else return typeof f!="string"?f:S.read(f)}function y(a){if(!(a&&a.storageArea!==n)){if(a&&a.key==null){g.value=w;return}if(!(a&&a.key!==e)){T();try{(a==null?void 0:a.newValue)!==S.write(g.value)&&(g.value=C(a))}catch(f){p(f)}finally{a?_(d):d()}}}}function D(a){y(a.detail)}return g}function Q(e){return me("(prefers-color-scheme: dark)",e)}function Se(e={}){const{selector:t="html",attribute:n="class",initialValue:o="auto",window:r=O,storage:i,storageKey:s="vueuse-color-scheme",listenToStorageChanges:u=!0,storageRef:l,emitAuto:m,disableTransition:v=!0}=e,c={auto:"",light:"light",dark:"dark",...e.modes||{}},b=Q({window:r}),p=E(()=>b.value?"dark":"light"),h=l||(s==null?ce(o):$(s,o,i,{window:r,listenToStorageChanges:u})),g=E(()=>h.value==="auto"?p.value:h.value),w=K("updateHTMLAttrs",(d,A,M)=>{const C=typeof d=="string"?r==null?void 0:r.document.querySelector(d):B(d);if(!C)return;let y;if(v&&(y=r.document.createElement("style"),y.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),r.document.head.appendChild(y)),A==="class"){const D=M.split(/\s/g);Object.values(c).flatMap(a=>(a||"").split(/\s/g)).filter(Boolean).forEach(a=>{D.includes(a)?C.classList.add(a):C.classList.remove(a)})}else C.setAttribute(A,M);v&&(r.getComputedStyle(y).opacity,document.head.removeChild(y))});function j(d){var A;w(t,n,(A=c[d])!=null?A:d)}function S(d){e.onChanged?e.onChanged(d,j):j(d)}I(g,S,{flush:"post",immediate:!0}),q(()=>S(g.value));const T=E({get(){return m?h.value:g.value},set(d){h.value=d}});try{return Object.assign(T,{store:h,system:p,state:g})}catch{return T}}function Ae(e={}){const{valueDark:t="dark",valueLight:n="",window:o=O}=e,r=Se({...e,onChanged:(s,u)=>{var l;e.onChanged?(l=e.onChanged)==null||l.call(e,s==="dark",u,s):u(s)},modes:{dark:t,light:n}}),i=E(()=>r.system?r.system.value:Q({window:o}).value?"dark":"light");return E({get(){return r.value==="dark"},set(s){const u=s?"dark":"light";i.value===u?r.value="auto":r.value=u}})}export{ve as a,$ as b,Ae as u};
